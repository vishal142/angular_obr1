<div class="container-fluid white_rbg_clr">
    <h2 class="main_page_heading">Update Profile</h2>
    </div>

    <div class="main_right_cont_bg">

    <div class="container-fluid custom_padd_main">
    <div class="row">
      <div class="col-md-8 col-md-offset-2">
    
    <div class="row">
   
<div class="col-md-12">
<div id="login-alert" class="alert alert-danger col-sm-12" style="text-align:center; margin-top: 5px;" ng-if="errorMessage">{{errorMessage}}</div>

<div id="login-alert" class="alert alert-success col-sm-12"style="text-align:center; margin-top: 5px;" ng-if="successMessage">{{successMessage}} </div>
      <div class="back_to_item_list clearafter">
      <h3 class="frm_heding_txt">Update Profile</h3><a href="#/dashboard/employee/list" class="back_text"><i class="fa fa-angle-left" aria-hidden="true"></i>Back to  employee list</a>
      </div>
      </div>
    </div>
    
        <form class="creat_evnt_frm_fld" name="profileDetail" role="form" 
        novalidate ="" ng-submit="doUpdateProfile(profileDetail)">
       <div class="row">

   <div class="col-md-12"><div class="form-group">
   <input type="text" class="form-control" ng-model="profileDetail.f_name" placeholder="First name"></div>
   </div>


   <div class="col-md-12"><div class="form-group">
   <input type="text" class="form-control" placeholder="Last name" ng-model="profileDetail.l_name"></div>
   </div>

 <!--<input type="file" id="profile_image" name="profile_image">-->
  <div class="col-md-12"><div class="form-group has-feedback"><input type="text" class="form-control" placeholder="Change Profile Image" aria-describedby="inputWarning2Status">
          <span class="img_upload_posi" aria-hidden="true"><label class="browser_img_btn">
              <input type="file" class="brwsr_input sr-only" id="profile_image" name="profile_image"></label></span>
          </div>
          <p class="img_upld_ins" style="color:red">[ Only formats are allowed : jpeg, jpg, png ]</p>
          </div>

  <div class="col-md-12"><div class="img_space">
   <img src="{{profileDetail.profile_image_url.profile_image_url}}" id="profile_image_preview" alt="">
   </div></div>




       </div>
          <div class="col-md-12"><div class="btn_cnterposi">
            <input type="submit" class="btn btn-default crtenewevent_sbmit_btn"
             value="update profile" id="code">

         

           <!-- <button type="button" class="btn btn-default crtenewevent_sbmit_btn">create new events</button>-->

            </div>

            </div>

            
        </div>
        </form>        

      </div>
      </div>
      

    </div>

    </div>


<script type="text/javascript">
  $(function(){

    $("#profile_image").change(function (){

      var fileExtension = ['jpeg', 'jpg', 'png'];
        if ($.inArray($(this).val().split('.').pop().toLowerCase(), fileExtension) == -1) {
            //alert("Only formats are allowed : "+fileExtension.join(', '));
            $('.img_upld_ins').html("[Only formats are allowed : "+fileExtension.join(', ')+']');
            $('#code').hide();
            return false;
        }else{
          angular.element(this).scope().uploadImg(this);
            readURL(this,"profile_image_preview");
            $('#code').show();
        }

     
        });

    });

    function readURL(input,id){
        if (input.files && input.files[0]){
            var reader = new FileReader();
            reader.onload = function (e){
                $('#'+id).attr('src', e.target.result);
            }
            reader.readAsDataURL(input.files[0]);
        }
    }
</script>